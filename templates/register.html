{% extends 'base.html' %}

{% block content %}
<form method="post" action="{{ url_for('register') }} " onsubmit="return validateForm()">
{{ form.hidden_tag() }}

<section class="bg-gray-50 ">
    <div class="flex flex-col items-center justify-center px-16 py-18 mx-auto md:h-screen lg:py-0">
        <div class="w-full bg-white rounded-lg shadow  md:mt-3 sm:max-w-md xl:p-0 ">
            <div class="p-6 space-y-6 md:space-y-6 sm:p-8">
                <h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl ">
                    Create and account
                </h1>

                <div>
                    <label for="username" class="block mb-2 text-sm font-medium text-gray-900 ">Your
                        username</label>
                    {{ form.username(class="bg-gray-50 border border-gray-300 text-gray-900
                    sm:text-sm rounded-lg focus:ring-primary-600
                    focus:border-primary-600 block w-full p-2.5
                    d",
                    placeholder="username") }}

                </div>
                <div>
                    <label for="password" class="block mb-2 text-sm font-medium text-gray-900 ">Password</label>
                    {{ form.password(id='password', placeholder="••••••••",
                    class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg
                    focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 ") }}
                </div>
                <div>
                    <label for="confirm-password"
                           class="block mb-2 text-sm font-medium text-gray-900 ">Confirm
                        password</label>
                    {{ form.confirm_password(placeholder="••••••••",
                    class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg
                    focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 ") }}

                </div>

                <button type="submit"
                                class="w-full text-white bg-blue-700 hover:bg-primary-700 focus:ring-4
                                focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ">
                            Sign in
                        </button>
                <p class="text-sm font-light text-gray-500 ">
                    Already have an account? <a href="{{url_for('login')}}"
                                                class="font-medium text-primary-600 hover:underline ">Login
                    here</a>
                </p>

            </div>
        </div>
    </div>
</section>
</form>

<script>
    function validateForm() {
        var password = document.getElementById('password').value;
        var confirmPassword = document.getElementById('confirm-password').value;  // Corrected id here
        var errorElement = document.getElementById('password-match-error');

        if (password !== confirmPassword) {
            errorElement.innerText = 'Passwords must match';
            return false;
        } else {
            errorElement.innerText = '';
            return true;
        }
    }
</script>
{% endblock %}